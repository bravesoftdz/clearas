unit ClearasMutex;

interface

uses
  Windows, Dialogs, SysUtils;

implementation

var
  mHandle: THandle;    // Mutexhandle

Initialization

  mHandle := CreateMutex(nil, true, PChar('Clearas'));

  if (GetLastError = ERROR_ALREADY_EXISTS) then 
     begin
     MessageBox('An other instance of Clearas already exists!', 'Error', MB_ICONERROR);
     Halt;
     end;

finalization

  if mHandle <> 0
     then CloseHandle(mHandle);

end.

 